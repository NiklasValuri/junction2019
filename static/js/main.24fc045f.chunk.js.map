{"version":3,"sources":["components/SmallPopup.js","components/Marker.js","db.js","useWindowDimensions.js","components/BuildingMap.js","components/InfoPage.js","App.js","index.js"],"names":["popupContent","props","name","address","to","SmallPopup","Popup","trigger","Icon","circular","content","on","pinned","size","imageOffset","Marker","eventParameters","event","anchor","payload","handleClick","onClick","handleContextMenu","onContextMenu","handleMouseOver","onMouseOver","setState","hover","handleMouseOut","onMouseOut","state","this","left","top","style","position","transform","cursor","Component","data","split","map","row","attributes","id","description","startDate","endDate","lat","Number","lng","getWindowDimensions","window","width","innerWidth","height","innerHeight","coords","search","typed","change","options","class","type","placeholder","onChange","children","BuildingMap","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","useWindowDimensions","maxWidth","maxHeight","margin","display","center","zoom","provider","x","y","z","dpr","animate","mouseEvents","defaultWidth","isNaN","ButtonCustom","styled","Button","Flex","div","Page","Container","paddingTop","Text","p","Gutter","TextArea","MainPage","Title","InfoPage","useParams","history","useHistory","push","Header","as","Progress","percent","indicating","App","setTyped","setOptions","handleOptionChange","newData","filter","toLowerCase","startsWith","key","path","component","target","value","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.24fc045f.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Popup, Icon } from 'semantic-ui-react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst popupContent = (props) => {\r\n  return (\r\n    <div>\r\n      <div>Nimi: {props.name}</div>\r\n      <div>Osoite: {props.address}</div>\r\n      <div>Status: in progress</div>\r\n      <div>ETA: 3m</div>\r\n      <Link to={`/info/${props.address}`}>More Info</Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction SmallPopup(props) {\r\n  return (\r\n    <div>\r\n      <Popup\r\n        trigger={<Icon circular name=\"blue large map marker alternate\" />}\r\n        content={() => popupContent(props)}\r\n        on=\"click\"\r\n        pinned\r\n        size=\"huge\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SmallPopup;\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport SmallPopup from './SmallPopup'\r\n\r\nconst imageOffset = {\r\n  left: 15,\r\n  top: 31\r\n}\r\n\r\nexport default class Marker extends Component {\r\n  static propTypes = {\r\n    // input, passed to events\r\n    anchor: PropTypes.array.isRequired,\r\n    address: PropTypes.string,\r\n    payload: PropTypes.any,\r\n    name: PropTypes.string,\r\n\r\n    // optional modifiers\r\n    hover: PropTypes.bool,\r\n\r\n    // callbacks\r\n    onClick: PropTypes.func,\r\n    onContextMenu: PropTypes.func,\r\n    onMouseOver: PropTypes.func,\r\n    onMouseOut: PropTypes.func,\r\n\r\n    // pigeon variables\r\n    left: PropTypes.number,\r\n    top: PropTypes.number,\r\n\r\n    // pigeon functions\r\n    latLngToPixel: PropTypes.func,\r\n    pixelToLatLng: PropTypes.func\r\n  }\r\n\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      hover: false\r\n    }\r\n  }\r\n\r\n  // what do you expect to get back with the event\r\n  eventParameters = (event) => ({\r\n    event,\r\n    anchor: this.props.anchor,\r\n    address: this.props.address,\r\n    payload: this.props.payload,\r\n    name: this.props.name,\r\n  })\r\n\r\n\r\n  // modifiers\r\n  isHover () {\r\n    return typeof this.props.hover === 'boolean' ? this.props.hover : this.state.hover\r\n  }\r\n\r\n  // delegators\r\n\r\n  handleClick = (event) => {\r\n    this.props.onClick && this.props.onClick(this.eventParameters(event))\r\n  }\r\n\r\n  handleContextMenu = (event) => {\r\n    this.props.onContextMenu && this.props.onContextMenu(this.eventParameters(event))\r\n  }\r\n\r\n  handleMouseOver = (event) => {\r\n    this.props.onMouseOver && this.props.onMouseOver(this.eventParameters(event))\r\n    this.setState({ hover: true })\r\n  }\r\n\r\n  handleMouseOut = (event) => {\r\n    this.props.onMouseOut && this.props.onMouseOut(this.eventParameters(event))\r\n    this.setState({ hover: false })\r\n  }\r\n\r\n  // render\r\n\r\n  render () {\r\n    const { left, top, onClick, address, name } = this.props\r\n\r\n    const style = {\r\n      position: 'absolute',\r\n      transform: `translate(${left - imageOffset.left}px, ${top - imageOffset.top}px)`,\r\n      cursor: onClick ? 'pointer' : 'default'\r\n    }\r\n\r\n    return (\r\n      <div style={style}>{SmallPopup({address, name})}</div>\r\n    )\r\n  }\r\n}","const db = `,Työnkuvaus,Alkurajapvm,Loppuraja,osoite,nimi,lat,lng\\n0,LUOKAT 70 JA 71 LATTIAKORJAUS,12/04/2018,12/04/2018,Tuohipolku 10,Pihkapuiston ala-aste,60.2517159,24.853717\\n1,\"VANHAN ALAKATON PURKU,UUDEN ASENNUS\",09/07/2018,09/07/2018,Pikkaraistie 7,Kumina lpk,60.2794507,25.0270411\\n2,\"KIRJAHYLLYJEN SIIRTO,SUOJASEINIEN R\",09/07/2018,09/07/2018,Kellosilta 9,Pasilan kirjasto,60.2007754,24.9358785\\n3,VESIVAHINGON PAIKANNUS JA KORJAUS,24/07/2018,24/07/2018,Kellosilta 9,Pasilan kirjasto,60.2007754,24.9358785\\n4,IV-KANAVIEN KORJAUS AULA-TILOISSA,27/07/2018,27/07/2018,Knutersintie 924,Sakarinmäen peruskoulu,60.2617945,25.2113561\\n6,VESIVAHINGON KORJAUS,13/08/2018,18/09/2018,Metsäpurontie 14/Kuusikkotie,Maunula Lp,60.2296117,24.92867\\n7,SMARTBOARDIN JA VIDEOTYKKIEN SIIRTO,09/08/2018,09/08/2018,Neljäs linja 11-15,Kallion ala-aste,60.1833792,24.9507648\\n9,VAATELOKEROIDEN+HYLLYJEN KORJAUS,10/08/2018,10/08/2018,Paciuksenkaari 21,Pacius Lpk,60.1960179,24.8937871\\n11,INVA WC:N PAPERITELINEEN UUSIMINEN,16/08/2018,16/08/2018,Päijänteentie 5,Vallilan kirjasto,60.1922199,24.9623972\\n13,VARASTOKONTIN POISTO TYÖMAALTA,21/08/2018,21/08/2018,Raumantie 2,Munkkivuoren ala-aste,60.2054441,24.8787071\\n14,PIHAKIVETYKSEN KORJAUS,21/08/2018,21/08/2018,Aleksis Kiven katu 3,Harjun nuorisotalo,61.4959873,23.7604419\\n15,GRAFITTIEN POISTO,21/08/2018,21/08/2018,Metsäpurontie 4,Maunula-talo,60.605367,24.8556363\\n16,\"BETONILATTIAN PAIKKAUS, SERMIT\",21/08/2018,21/08/2018,Teinintie 12,Oulunkylän ala-aste,60.2320863,24.9607072\\n17,KELLARIN TYHJENNYS,22/08/2018,22/08/2018,Limingantie 78,Marjala Lpk,60.2040776,24.9535797\\n18,OVI ERISTEIDEN KORJAUS,23/08/2018,23/08/2018,Koulutanhua 1,Laajasalon peruskoulu,60.1788623,25.0574486\\n19,VALKOTAULUN JA PÖYTIEN SIIROJA,23/08/2018,23/08/2018,Laivalahdenkatu,Helsingin Silkkikutomo,60.1945579,25.0374316\\n20,ALASARANAN KORJAUS,24/08/2018,24/08/2018,Hillerikuja 4,Hertsikan ala-aste,60.2094524,25.0434152\\n22,IKKUNAHELOJEN KORJAUS,31/08/2018,31/08/2018,Intiankatu 31,Marjala Lpk,60.2095911,24.9644323\\n23,RAKENNEAVAUKSIA,29/08/2018,29/08/2018,Isonnevantie 22,Gynasiet lärkan,60.2167703,24.8909075\\n24,TUULETUSVENTTIILIN KORJAUS,04/09/2018,04/09/2018,Malmin lentoasema,Malmin lentoasema,60.2464754,25.0454945\\n25,RAKENNEAVAUKSIA,05/09/2018,05/09/2018,Viinenkuja 6,Pitäjänmäen peruskoulu,60.2265564,24.860191\\n26,SARANSUOJIA/SORMISUOJIEN ASENNUS,05/09/2018,05/09/2018,Nallitie 3,Nalli Lpk,60.2350175,25.0612988\\n27,KAAPPIEN + SÄHKÖLIEDEN IRROTUS,06/09/2018,10/09/2018,Koulutanhua 2B,Laajasalon nuorisotalo,60.1793683,25.05566\\n28,OVEN + LUKON ASENNUS,07/09/2018,07/09/2018,Jollaksentie 67,Puuskakulma lpk,60.1648491,25.07469\\n29,\"OVEN VAIHTO, TIILISEINÄN PAIKKAUS\",07/09/2018,07/09/2018,Tuohipolku 10,Pihkapuiston ala-aste,60.2517159,24.853717\\n30,VESIKATTOVUODON PAIKANNUS+KORJAUS,18/09/2018,18/09/2018,Takomotie 13,Strömbergin ala-aste,60.2190813,24.873346\\n35,RAKENNUSTEN PURKUTYÖT,12/09/2018,12/09/2018,Talosaarentie 213,Talosaarentie 213,60.2417796,25.1790844\\n38,RAKENNUSTEN PURKUTYÖT,12/09/2018,12/09/2018,Rödje-Fantsin tie 33,Rödje-Fantsin tie 33,60.2529683,25.1751027\\n39,ILMANOTTOPUTKEN PAIKANNUS MAAN ALTA,17/09/2018,17/09/2018,Sturenkatu 2,Aleksis Kiven peruskoulu,60.193792,24.956026\\n41,OVIEN KUNNOSTUS,25/09/2018,25/09/2018,Agronominkatu 2,Latokartanon peruskoulu,60.2345232,25.0337994\\n42,DEKKARIHUONEEN KYLPYHUONEREMONTTI,28/09/2018,28/09/2018,Viides linja 11,Kallion kirjasto,60.1836099,24.9536318\\n43,LEIKKIPUISTON RAKENTAMINEN,04/10/2018,04/10/2018,Porvoonkatu 4,Brahe Lp,60.4034273,25.1100192\\n44,LEIKKIPUISTON RAKENTAMINEN,04/10/2018,04/10/2018,Uudenpellonkuja 5,Kotinummi Lp,60.2578567,25.0158925\\n45,LEIKKIPUISTON RAKENTAMINEN,04/10/2018,04/10/2018,Satamasaarentie 3,Lohikäärmeenpuisto Lp,60.2119987,25.1393441\\n46,KOSTEUSKARTOITUS+RAKENNEAVAUKSIA,04/10/2018,04/10/2018,Sturenkatu 25,Sturenkatu 25,60.1861581,24.9409991\\n49,SISÄOPASTEIDEN MUUTOSTYÖT YM,23/10/2018,23/10/2018,Kahvikuja 3,Palvelukeskus Albatross,60.2062904,25.1463932\\n50,\"ILMANOTTOPUTKEN KAIVUU,KAIVONRENGAS\",29/10/2018,29/10/2018,Sturenkatu 2,Aleksis Kiven peruskoulu,60.193792,24.956026\\n51,\"LIIKUNTASUMAT,IKKUNATIIVISTEET\",02/11/2018,02/11/2018,Takomotie 13,Strömbergin ala-aste,60.2190813,24.873346\\n52,\"VESIKOURUN VAIHTO,KATON PUHDISTUS\",07/11/2018,16/11/2018,Hämeentie 98,Vallila Lp,60.4577971,22.3061093\\n53,LASTENRATTAIDEN VARASTON SEINÄPURKU,08/11/2018,08/11/2018,Eläintarhantie 18 A,Linnunlaulu Lpk,60.1807412,24.9466376\\n55,TELINEET LAMPUN VAIHTOA VARTEN,22/11/2018,22/11/2018,Topeliuksenkatu 6,Töölön kirjasto,60.1833462,24.9174514\\n56,TIKKAIDEN TOIMITUS MITTAUKSIA VART,28/11/2018,28/11/2018,Villiruusunkuja 4,Auringonpilkku lpk,60.2026519,25.1482291\\n57,KORJAUSSUUNNITTELU,17/12/2018,17/12/2018,Tuohipolku 10,Pihkapuiston ala-aste,60.2517159,24.853717\\n58,MUUTTOLAATIKOIDEN TOIMITUS,17/12/2018,17/12/2018,Kimnaasipolku 5,Maatullin ala-aste,60.274631,25.028157\\n59,VARASTOINTIKONTTI LELUILLE,10/12/2018,10/12/2018,Porvoonkatu 4,Brahe Lp,60.4034273,25.1100192\\n60,AULAN NAISTEN WC-TILOJEN KUNNOSTUS,11/12/2018,11/12/2018,Klaneettitie 5,Kanneltalo,60.2387865,24.8759076\\n62,HAITTA-AINEKARTOITUS,21/12/2018,21/12/2018,Ribbingintie 93,Ribbingintie 93,60.2349453,25.2071786\\n63,MUUTOSTYÖT,01/03/2018,13/04/2018,Keinulaudankuja 4,Kontulan Symppis,60.2366091,25.0850534\\n64,\"IV-SUUNNITTELU, IV-TYÖT\",10/12/2018,10/12/2018,Syyriankatu 1,Floora Lpk,60.2087031,24.9711684\\n65,ILMANPUHDISTIN VUOKRAT,12/06/2018,12/06/2018,Tolarintie 6,Pohjois-Haagan ala-aste,60.2267815,24.8922139\\n66,PIHAKATOKSEN VALOJEN KUNNOSTUS,16/04/2018,16/04/2018,Klaavuntie 17,Puotilan ala-aste,60.2138607,25.0937093\\n67,KALUSTEMUUTOKSET,02/01/2018,02/01/2018,Turjantie,Kimmo Lpk,60.209665,24.9431283\\n68,TEKNISENTYÖNLUOKAN KOSTEUSVAURIO,02/01/2018,02/01/2018,Berliininkatu 4-6,Arabian peruskoulu,60.2037681,24.9751769\\n69,PIHAN PARANNUS,02/01/2018,02/01/2018,Berliininkatu 4-6,Arabian peruskoulu,60.2037681,24.9751769\\n70,\"KOURUJEN PUHDISTUS, PATOLEVYN KIINN\",04/01/2018,04/01/2018,Piianpolku,Piianpuisto Asukastalo Renki,60.9491302,25.8178856\\n71,SEINÄN KORJAUS,05/01/2018,05/01/2018,Mäkipellontie 19,Alppilan lukio,60.2204204,24.8987169\\n72,KORJAUSTYÖT LISTAN MUKAAN,04/01/2018,04/01/2018,Louhentie 3,Yhtenäiskoulu,60.2142673,24.940526\\n74,PIENKORJAUKSET,12/01/2018,12/01/2018,Maunulanmäki 5,Maunulan ala-aste,60.2281332,24.9295655\\n75,SOKKELIN TUULETUSAUKKOJEN VERKOTUS,12/01/2018,12/01/2018,Yhdyskunnantie,Lpk Pakilan lastenpaikka,60.2512109,24.9559916\\n76,JUHLASALIN PIENKORJAUKSET,15/01/2018,15/01/2018,Mäkelänkatu 93,Käpylän peruskoulu,60.2107521,24.9442027\\n77,VAATENAULAKOT,15/01/2018,15/01/2018,Kartanomuseontie 2,Metsolan ala-aste,60.2517035,24.9617442\\n79,KAAPPISÄNKYJEN KUNNOSTUS,15/01/2018,15/01/2018,Syyriankatu 3,Floora Lpk,60.2083666,24.9712904\\n81,LASITUSTYÖT JA KESKUSKELLONKORJAUS,15/01/2018,15/01/2018,Pohjolankatu 45,Kåttby lågstadieskola,61.6984128,27.2387505\\n83,SISÄÄNKÄYNTIKATOKSEN SEINÄ,17/01/2018,17/01/2018,Piianpolku 3-5,Apila Lpk,61.5199407,23.8936908\\n84,PIENKORJAUKSET,17/01/2018,16/03/2018,Teinintie 13,Norppa Lpk,60.2301075,24.9588736\\n85,NAULAKOITA,17/01/2018,17/01/2018,Teinintie 12,Oulunkylän ala-aste,60.2320863,24.9607072\\n86,VÄLIVERHO ASENNETTUNA,16/01/2018,16/01/2018,Vetelintie 4,Pelimanni Lpk,60.2369443,24.8844445\\n87,TAULUN KIINNITYS,18/01/2018,18/01/2018,Maapadontie 1,Majava Lpk,60.2314735,24.9494636\\n88,OVI KORJAUS,18/01/2018,18/01/2018,Mikkolankuja 3,Toivolan koulu,60.2407747,24.9663908\\n89,PALOKATKOTYÖT,18/01/2018,18/01/2018,Jokiniementie 3,Veräjämäki Lpk,60.7168948,24.445064\\n90,IKKUNAKORJAUS,26/01/2018,26/01/2018,Pohjolankatu 45,Kottby lågstadieskola,61.6984128,27.2387505\\n91,NAULAKOT JA KENKÄTELINEET,26/01/2018,26/01/2018,Maunulanmäki 5,Maunulan ala-aste,60.2281332,24.9295655\\n92,PALOTARKASTAJAN LISTAN MUK.TYÖT,29/01/2018,29/01/2018,Kylänvanhimmantie 1,Nestori Lpk,60.2255527,24.9570027\\n93,\"IKKUNAKORJAUS, ÄÄNIERISTELEVYT\",29/01/2018,29/01/2018,Kivalterinpolku 3,Ågeli Lpk,60.2308622,24.9576603\\n94,KELLARIN KOSTEUSVAURIOKORJAUS,31/01/2018,13/03/2018,Kullervonkatu 7,Käpylän pelastuslaitos,60.2167593,24.9569788\\n95,TYTTÖJEN WC:N KOSTEUSVAURIOKORJAUS,31/01/2018,31/01/2018,Viinenkuja 6,Pitäjänmäen peruskoulu,60.2265564,24.860191\\n96,LIIKUNTASALIN KAITEEN KORJAUS,31/01/2018,31/01/2018,Mäkelänkatu 93,Käpylän peruskoulu,60.2107521,24.9442027\\n97,FYSIIKANLUOKAN MATTOTYÖ,01/02/2018,01/02/2018,Pilkekuja 10,Pakilan yläaste,60.2423639,24.9271691\\n99,TIMANTTIPORAUKSET YM.,06/02/2018,06/02/2018,Ylätuvanpolku 4,Torpparinmäki Lp,60.25844,24.9466267`\r\nexport const data = db.split('\\n').map(row => {\r\n  const attributes = row.split(',')\r\n  return {\r\n    id: attributes[0],\r\n    description: attributes[1],\r\n    startDate: attributes[2],\r\n    endDate: attributes[3],\r\n    address: attributes[4],\r\n    name: attributes[5],\r\n    lat: Number(attributes[6]),\r\n    lng: Number(attributes[7]),\r\n  }\r\n})","import { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}","import React from 'react';\r\nimport Map from 'pigeon-maps';\r\nimport Marker from './Marker';\r\nimport { data } from '../db'\r\nimport useWindowDimensions from '../useWindowDimensions'\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst coords = [60.1954, 24.9174];\r\n\r\nconst search = (typed, change, options) => (\r\n  <div>\r\n    <div class=\"ui icon input\">\r\n      <input \r\n        type=\"text\" \r\n        placeholder=\"Search...\"\r\n        onChange={change}\r\n      />\r\n      <i class=\"search icon\"></i>\r\n    </div>\r\n  <div>\r\n    <ul>\r\n      {options.map((address) => {\r\n        return (\r\n          <Link to={`/info/${address.props.children}`}>{address}</Link>\r\n        )\r\n      })}\r\n    </ul>\r\n  </div>\r\n  </div>\r\n)\r\n\r\nexport default function BuildingMap({typed, change, options}) {\r\n  const { height, width } = useWindowDimensions();\r\n  return (\r\n    <div style={{ maxWidth: '100%', maxHeight: '100%', margin: '0 auto', display: 'flex'}}>\r\n      {search(typed, change, options)}\r\n      <Map\r\n        center={coords}\r\n        zoom={11}\r\n        provider={(x, y, z, dpr) => {\r\n          return `https://maps.wikimedia.org/osm-intl/${z}/${x}/${y}${dpr >= 2 ? '@2x' : ''}.png`;\r\n        }}\r\n        animate={true}\r\n        mouseEvents={true}\r\n        defaultWidth={width}\r\n        height={height}\r\n      >\r\n        {data.map(({description,startDate,endDate,address,name, lat, lng}) => {\r\n          if (!(lng === 0 || isNaN(lat) || lat <= 60 || lat > 60.5))\r\n            return (\r\n              <Marker \r\n                address={address} \r\n                name={name} \r\n                anchor={[lat, lng]} \r\n                payload={1} \r\n                onClick={({ event, anchor, payload }) => {}} \r\n              />)\r\n          else return null\r\n          })}\r\n      </Map>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport { Container, Header, Progress, Button } from 'semantic-ui-react';\r\nimport styled from 'styled-components';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nconst InfoPage = () => {\r\n  let id = useParams();\r\n\r\n  let history = useHistory();\r\n\r\n  function handleClick() {\r\n    history.push('/');\r\n  }\r\n\r\n  return (\r\n    <MainPage>\r\n      <Page>\r\n        <Flex>\r\n          <Title>{id.address}</Title>\r\n\r\n          <ButtonCustom onClick={handleClick}>Back to search</ButtonCustom>\r\n        </Flex>\r\n\r\n        <Gutter />\r\n\r\n        <TextArea>\r\n          <Header as=\"h1\">Purpose of the project</Header>\r\n\r\n          <Text>\r\n            adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut\r\n            enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea\r\n            commodo consequat. Duis aute irure dolor in reprehe\r\n          </Text>\r\n        </TextArea>\r\n\r\n        <TextArea>\r\n          <Header as=\"h1\">Information about the site</Header>\r\n\r\n          <Text>\r\n            adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut\r\n            enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea\r\n            commodo consequat. Duis aute irure dolor in reprehe\r\n          </Text>\r\n        </TextArea>\r\n\r\n        <TextArea>\r\n          <Header as=\"h1\">Project timeline</Header>\r\n\r\n          <Text>Project started on 1.5.2019</Text>\r\n\r\n          <Text>\r\n            <Progress percent=\"75\" indicating />\r\n          </Text>\r\n        </TextArea>\r\n      </Page>\r\n    </MainPage>\r\n  );\r\n};\r\n\r\nconst ButtonCustom = styled(Button)({});\r\n\r\nconst Flex = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Page = styled(Container)({\r\n  paddingTop: '20px',\r\n});\r\n\r\nconst Text = styled.p`\r\n  font-size: 20px;\r\n  margin-left: 100px;\r\n`;\r\n\r\nconst Gutter = styled.div`\r\n  height: 50px;\r\n  width: 50px;\r\n`;\r\n\r\nconst TextArea = styled.div`\r\n  margin-bottom: 50px;\r\n`;\r\n\r\nconst MainPage = styled.div`\r\n  height: 100vh;\r\n`;\r\n\r\nconst Title = styled.p`\r\n  font-size: 3em;\r\n  font-weight: bold;\r\n  margin: 0;\r\n  padding: 0;\r\n`;\r\n\r\nexport default InfoPage;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport BuildingMap from './components/BuildingMap';\r\nimport InfoPage from './components/InfoPage';\r\nimport { data } from './db.js'\r\n\r\n\r\nfunction App() {\r\n\r\n  const [typed, setTyped] = useState(\"Search...\")\r\n  const [options, setOptions] = useState([])\r\n\r\n  useEffect(() => {\r\n    setTyped(typed)\r\n  }, [])\r\n\r\n  const handleFilterChange = (event) => {\r\n    setTyped(event.target.value)\r\n    handleOptionChange()\r\n  }\r\n\r\n  const handleOptionChange = (event) => {\r\n    const newData = data.filter(x => !(x.lng === 0 || isNaN(x.lat) || x.lat <= 60 || x.lat > 60.5)).map(x => x.address).filter(x => x.toLowerCase().startsWith(typed)).map(y => <p key=\"y\">{y}</p>)\r\n    setOptions(newData)\r\n  }\r\n\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path='/info/:address' component={InfoPage} />\r\n\r\n      <Route path='/test' >\r\n        <InfoPage />\r\n      </Route>\r\n\r\n      <Route path='/' >\r\n        <div>\r\n          <BuildingMap \r\n            typed={typed} \r\n            change={handleFilterChange} \r\n            options={options}\r\n          />\r\n        </div>\r\n      </Route>\r\n\r\n      <Redirect to='/' />\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport 'semantic-ui-css/semantic.min.css'\r\nimport { HashRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <HashRouter >\r\n      <App />\r\n  </HashRouter>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}